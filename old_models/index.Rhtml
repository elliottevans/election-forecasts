<!DOCTYPE html>
<html lang="en">
<style>
table {
    border-collapse: collapse;
    width: 100%;
}

td {
    text-align: left;
    padding: 8px;
    font-size: 18px;
}
th {
    text-align: left;
    padding: 8px;
    font-size: 20px;
}

tr:nth-child(even){background-color: #f2f2f2}
</style>
  <head>
  
<!--begin.rcode warning=FALSE,echo=FALSE, include=FALSE
setwd("~/election_forecasts")
source("main.R")
end.rcode-->

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Election Forecasts</title>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="container">
      <!-- Static navbar -->
      <div class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">2016 General Election Forecasts</a>
          </div>
        </div><!--/.container-fluid -->
      </div>

      <!-- Main component for a primary marketing message or call to action -->

      <div class="container">
<!--begin.rcode winner, echo=FALSE,fig.align='center',fig.width=15, fig.height=3
 par(mar = c(0,0,0,0))
 plot(c(0, 1), c(0, 1), ann = F, bty = 'n', type = 'n', xaxt = 'n', yaxt = 'n')
 text(x = 0.5, y = 0.5, paste0(winner," has ",a_or_an," ",winner_prob," chance of being president"),
      cex = 3.2, col = "black",font=2)
 text(x = 0.5, y = 0.34, paste0(winner_pronoun," will win ", num_states_won," states",plus_dc," winning the electoral college ",winning_electoral_votes,"-",losing_electoral_votes),
      cex = 2.3, col = "grey41",font=2)
end.rcode-->
      
<!--begin.rcode simulations, echo=FALSE,fig.align='center',fig.width=15, fig.height=8
simulated_result
end.rcode-->
      </div>      
      
      <p></p>
      
      <div class="jumbotron">
        <h2><b>Prediction Map</b></h2>
        <p>Here's the electoral map based on margins of victory. In darker blue states, Clinton is favored to win by a wider margin, while in darker red states, Trump is favored.</p>
      </div>
      <div class="container">
<!--begin.rcode map, echo=FALSE,fig.align='center',fig.width=15, fig.height=10
map
end.rcode-->
      </div>  

      <div class="jumbotron">
        <h2><b>State Forecasts</b></h2>
        <p>Odds of a candidate's victory are updated whenever new polling information is available. Here are the forecasted odds (over time) that each candidate wins each state. We'll leave out states that don't have any reliable polling data yet.</p>
      </div>
      <div class="container">
<!--begin.rcode states, echo=FALSE,fig.align='center',fig.width=15, fig.height=16
multiplot(plotlist = plots,cols=3)
end.rcode-->
      </div>
      
      <p></p>
      
      <div class="jumbotron">
        <h2><b>Margins of Victory</b></h2>
        <p>Here's how the margins of victory will probably play out. The error bars are 80% confidence intervals.</p>
      </div>
      <div class="container">
<!--begin.rcode margins, echo=FALSE,fig.align='center',fig.width=15, fig.height=23
suppressWarnings(print(state_margins))
end.rcode-->
      </div>  

    </div> <!-- /container -->
      <p></p>
      <p></p>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://code.jquery.com/jquery.js"></script>
  </body>
</html>
